{"version":3,"sources":["images/logo.svg","components/Header.js","images/avatar_edit.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditAvatarPopup.js","components/EditProfilePopup.js","components/AddPlacePopup .js","utils/Api.js","components/ImagePopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","href","target","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","style","backgroundImage","onClick","name","type","length","Main","cards","onEditProfile","onAddPlace","onEditAvatar","handleCardClick","avatar","avatar_edit","about","map","Footer","rel","PopupWithForm","children","title","isOpen","onClose","onSubmit","noValidate","EditAvatarPopup","props","avatarRef","useRef","e","preventDefault","onUpdateAvatar","current","value","ref","id","pattern","required","placeholder","EditProfilePopup","useState","setName","description","setDescription","useEffect","onUpdateUser","onChange","minLength","maxLength","AddPlacePopup","api","baseUrl","headers","this","_url","_headers","fetch","then","res","_resultStatus","method","body","JSON","stringify","cardId","ok","json","Promise","reject","status","ImagePopup","App","selectedCard","setSelectedCard","setCurrentUser","setCards","getInitialCards","catch","err","console","log","getUserInfo","isEditAvatarPopupOpen","setStateAvatar","isEditProfilePopupOpen","setStateProfile","isAddPlacePopupOpen","setStatePlace","setClosePopups","closeAllPopups","Provider","background","removeLikeFromCard","setLikeForCard","newCard","state","c","deleteCard","filter","item","updateAvatar","updateProfile","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"kLAAe,MAA0B,iC,OCU1BA,MARf,WACI,OACI,wBAAQC,UAAU,SAAlB,SACgB,wBAAQC,KAAK,IAAIC,OAAO,SAASF,UAAU,mCAA3C,SAA8E,qBAAKG,IAAKC,EAAMC,IAAI,6CAAUL,UAAU,sBCL/H,MAA0B,wCCE5BM,EAAqBC,IAAMC,gBCgDzBC,MA/Cf,YAA+D,IAA/CC,EAA8C,EAA9CA,KAAMC,EAAwC,EAAxCA,YAAaC,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,aAErCC,EAAcP,IAAMQ,WAAWT,GAG/BU,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAGvCC,EAAyB,UACxBH,EAAQ,kBAAoB,+BAI7BI,EAAUV,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAGrDM,EAAuB,UACrBJ,EAA6B,6BAAnB,kBAclB,OACI,sBAAKpB,UAAU,UAAf,UACI,qBAAKG,IAAKO,EAAKe,KAAMC,MAAO,CAAEC,gBAAgB,OAAD,OAASjB,EAAKe,KAAd,MAAyBG,QAb9E,WACIjB,EAAYD,IAYoFV,UAAU,iBAAiBK,IAAKK,EAAKmB,OACjI,wBAAQ7B,UAAWmB,EAA2BW,KAAK,SAASF,QANpE,WACIf,EAAaH,MAMT,sBAAKV,UAAU,iBAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCU,EAAKmB,OACrC,sBAAK7B,UAAU,uBAAf,UACI,wBAAQA,UAAWwB,EAAyBM,KAAK,SAASF,QAd1E,WACIhB,EAAWF,MAcC,oBAAIV,UAAU,uBAAd,SAAsCU,EAAKW,MAAMU,mBCPtDC,MA5Bf,YAA6G,IAA9FC,EAA6F,EAA7FA,MAAOrB,EAAsF,EAAtFA,WAAYC,EAA0E,EAA1EA,aAAcqB,EAA4D,EAA5DA,cAAeC,EAA6C,EAA7CA,WAAYC,EAAiC,EAAjCA,aAAcC,EAAmB,EAAnBA,gBAC/EvB,EAAcP,IAAMQ,WAAWT,GAErC,OACI,iCACA,0BAASN,UAAU,UAAnB,UACQ,sBAAKA,UAAU,wBAAf,UACI,qBAAKG,IAAKW,EAAYwB,OAAQZ,MAAO,CAAEC,gBAAgB,OAAD,OAASb,EAAYwB,OAArB,MAAkCtC,UAAU,kBAAkBK,IAAI,uCAASuB,QAASQ,IAC1I,qBAAKjC,IAAMoC,EAAavC,UAAU,uBAAuBK,IAAI,wDAEjE,sBAAKL,UAAU,iBAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,sBAAKA,UAAU,gBAAf,UACI,oBAAIA,UAAU,iBAAd,SAAgCc,EAAYe,OAC5C,wBAAQ7B,UAAU,uBAAuB8B,KAAK,SAASF,QAASM,OAEpE,mBAAGlC,UAAU,oBAAb,SAAkCc,EAAY0B,WAElD,wBAAQxC,UAAU,sBAAsB8B,KAAO,SAASF,QAASO,UAI7E,yBAASnC,UAAU,WAAnB,SACCiC,EAAMQ,KAAI,SAAC/B,GAAD,OAAU,cAAC,EAAD,CAAqBG,aAAcA,EAAcF,YAAa0B,EAAiBzB,WAAYA,EAAYF,KAAMA,GAAlGA,EAAKQ,cCtB9BwB,MARf,WACI,OACI,wBAAQ1C,UAAU,SAAlB,SACI,oBAAGA,UAAU,oBAAb,uCAA6D,mBAAGC,KAAK,wBAAwBC,OAAO,SAASyC,IAAM,aAAa3C,UAAU,qCAA7E,0BCa1D4C,MAhBf,YAA4E,IAApDC,EAAmD,EAAnDA,SAAUhB,EAAyC,EAAzCA,KAAMiB,EAAmC,EAAnCA,MAAOC,EAA4B,EAA5BA,OAAQC,EAAoB,EAApBA,QAASC,EAAW,EAAXA,SAEhE,OACQ,yBAASjD,UAAS,iBAAY+C,GAAU,eAAtB,yBAAqDlB,GAAvE,SACI,sBAAK7B,UAAU,mBAAf,UACI,wBAAQA,UAAU,eAAe8B,KAAK,SAASF,QAASoB,IACxD,oBAAIhD,UAAU,eAAd,SAA8B8C,IAC9B,uBAAM9C,UAAU,cAAc6B,KAAI,UAAKA,GAAQqB,YAAU,EAACD,SAAUA,EAApE,UACKJ,EACD,wBAAQ7C,UAAU,gBAAiB8B,KAAK,SAAxC,6ECaLqB,MAnBf,SAAyBC,GACrB,IAAMC,EAAY9C,IAAM+C,SAUxB,OACI,eAAC,EAAD,CAAeL,SARnB,SAAsBM,GAClBA,EAAEC,iBAEFJ,EAAMK,eAAe,CACjBnB,OAAQe,EAAUK,QAAQC,SAISZ,OAAQK,EAAML,OAAQC,QAASI,EAAMJ,QAASF,MAAOM,EAAMN,MAAlG,UACI,uBAAOc,IAAKP,EAAWrD,UAAU,6CAA6C6D,GAAG,oBAAoBC,QAAQ,aAAahC,KAAK,MAAMiC,UAAQ,EAACC,YAAY,qGAAqBnC,KAAK,sBACpL,sBAAM7B,UAAU,gCCwBbiE,MApCf,SAA0Bb,GACtB,MAAwB7C,IAAM2D,SAAS,IAAvC,mBAAOrC,EAAP,KAAasC,EAAb,KACA,EAAsC5D,IAAM2D,SAAS,IAArD,mBAAOE,EAAP,KAAoBC,EAApB,KACMvD,EAAcP,IAAMQ,WAAWT,GAwBrC,OAtBAC,IAAM+D,WAAU,WACZH,EAAQrD,EAAYe,MACpBwC,EAAevD,EAAY0B,SAC5B,CAAC1B,IAoBA,eAAC,EAAD,CAAemC,SAVnB,SAAsBM,GAClBA,EAAEC,iBAEFJ,EAAMmB,aAAa,CACf1C,OACAW,MAAO4B,KAK4BrB,OAAQK,EAAML,OAAQC,QAASI,EAAMJ,QAASF,MAAOM,EAAMN,MAAlG,UACI,uBAAO9C,UAAU,sCAAsC2D,MAAO9B,EAAM2C,SAnB5E,SAA0BjB,GACtBY,EAAQZ,EAAErD,OAAOyD,QAkBmFE,GAAG,aAAaY,UAAU,IAAIC,UAAU,KAAKX,UAAQ,EAACjC,KAAK,OAAOD,KAAK,OAAOmC,YAAY,gDAC1L,sBAAMhE,UAAU,qBAChB,uBAAOA,UAAU,0CAA0C2D,MAAOS,EAAaI,SAjBvF,SAA2BjB,GACvBc,EAAed,EAAErD,OAAOyD,QAgBwFE,GAAG,QAAQY,UAAU,IAAIC,UAAU,MAAMX,UAAQ,EAACjC,KAAK,OAAOD,KAAK,WAAWmC,YAAY,oCACtM,sBAAMhE,UAAU,oBCHb2E,MA/Bf,SAAuBvB,GACnB,MAAwB7C,IAAM2D,SAAS,IAAvC,mBAAOrC,EAAP,KAAasC,EAAb,KACA,EAA+B5D,IAAM2D,SAAS,IAA9C,mBAAOzC,EAAP,KAAa4C,EAAb,KAmBA,OACI,eAAC,EAAD,CAAepB,SAVnB,SAAsBM,GAClBA,EAAEC,iBAEFJ,EAAMjB,WAAW,CACbN,KAAMA,EACNJ,KAAMA,KAK6BsB,OAAQK,EAAML,OAAQC,QAASI,EAAMJ,QAASF,MAAOM,EAAMN,MAAlG,UACI,uBAAO0B,SAnBf,SAA0BjB,GACtBY,EAAQZ,EAAErD,OAAOyD,QAkBsB3D,UAAU,4CAA4C6D,GAAG,OAAO/B,KAAK,OAAO2C,UAAU,IAAIC,UAAU,KAAKX,UAAQ,EAAClC,KAAK,OAAOmC,YAAY,qDAC7K,sBAAMhE,UAAU,eAChB,uBAAOwE,SAjBf,SAA0BjB,GACtBc,EAAed,EAAErD,OAAOyD,QAgBe3D,UAAU,sCAAsC6D,GAAG,OAAOC,QAAQ,aAAahC,KAAK,MAAMD,KAAK,OAAOkC,UAAQ,EAACC,YAAY,uGAC9J,sBAAMhE,UAAU,mB,cCiFb4E,EAPH,I,WAtGR,cAAiC,IAApBC,EAAmB,EAAnBA,QAASC,EAAU,EAAVA,QAAU,oBAC5BC,KAAKC,KAAOH,EACZE,KAAKE,SAAWH,E,mDAGpB,WAAmB,IAAD,OACd,OAAOI,MAAM,GAAD,OAAIH,KAAKC,KAAT,UAAuB,CAC/BF,QAASC,KAAKE,WAEjBE,MAAK,SAAAC,GACF,OAAO,EAAKC,cAAcD,Q,qBAIlC,SAAQvD,EAAMJ,GAAO,IAAD,OAChB,OAAOyD,MAAM,GAAD,OAAIH,KAAKC,KAAT,UAAuB,CAC/BM,OAAQ,OACRR,QAASC,KAAKE,SACdM,KAAMC,KAAKC,UAAU,CACjB5D,KAAMA,EACNJ,KAAMA,MAGb0D,MAAK,SAAAC,GACF,OAAO,EAAKC,cAAcD,Q,yBAIlC,WAAe,IAAD,OACV,OAAOF,MAAM,GAAD,OAAIH,KAAKC,KAAT,aAA0B,CAClCF,QAASC,KAAKE,WAEjBE,MAAK,SAAAC,GACF,OAAO,EAAKC,cAAcD,Q,2BAIlC,SAAcvD,EAAMW,GAAQ,IAAD,OACvB,OAAO0C,MAAM,GAAD,OAAIH,KAAKC,KAAT,aAA0B,CAClCM,OAAQ,QACRR,QAASC,KAAKE,SACdM,KAAMC,KAAKC,UAAU,CACjB5D,KAAMA,EACNW,MAAOA,MAGd2C,MAAK,SAAAC,GACF,OAAO,EAAKC,cAAcD,Q,wBAIlC,SAAWvB,GAAK,IAAD,OACX,OAAOqB,MAAM,GAAD,OAAIH,KAAKC,KAAT,kBAAuBnB,GAAM,CACrCyB,OAAQ,SACRR,QAASC,KAAKE,WAEjBE,MAAK,SAAAC,GACF,OAAO,EAAKC,cAAcD,Q,4BAIlC,SAAeM,GAAS,IAAD,OACnB,OAAOR,MAAM,GAAD,OAAIH,KAAKC,KAAT,wBAA6BU,GAAU,CAC/CJ,OAAQ,MACRR,QAASC,KAAKE,WAEjBE,MAAK,SAAAC,GACF,OAAO,EAAKC,cAAcD,Q,gCAIlC,SAAmBM,GAAS,IAAD,OACvB,OAAOR,MAAM,GAAD,OAAIH,KAAKC,KAAT,wBAA6BU,GAAU,CAC/CJ,OAAQ,SACRR,QAASC,KAAKE,WAEjBE,MAAK,SAAAC,GACF,OAAO,EAAKC,cAAcD,Q,0BAIlC,SAAa3D,GAAO,IAAD,OACf,OAAOyD,MAAM,GAAD,OAAIH,KAAKC,KAAT,oBAAiC,CACzCM,OAAQ,QACRR,QAASC,KAAKE,SACdM,KAAMC,KAAKC,UAAU,CACjBnD,OAAQb,MAGf0D,MAAK,SAAAC,GACF,OAAO,EAAKC,cAAcD,Q,2BAIlC,SAAcA,GACV,OAAIA,EAAIO,GACGP,EAAIQ,OAERC,QAAQC,OAAR,gDAA0BV,EAAIW,a,KAIjC,CAAQ,CAChBlB,QAAS,8CACTC,QAAS,CACL,cAAiB,uCACjB,eAAgB,sBC7FTkB,MAdf,YAAwC,IAAlBtF,EAAiB,EAAjBA,KAAMsC,EAAW,EAAXA,QACxB,OACI,yBAAShD,UAAS,uCAA4C,OAATU,GAAkB,gBAAkBmD,GAAG,cAA5F,SACI,sBAAK7D,UAAU,yBAAf,UACI,sBAAKA,UAAU,+CAAf,UACI,wBAAQA,UAAU,eAAe4B,QAASoB,EAASlB,KAAK,WACxD,qBAAK3B,IAAc,OAATO,EAAgBA,EAAKe,KAAO,IAAKzB,UAAU,eAAeK,IAAI,0EAE5E,oBAAIL,UAAU,qBAAd,SAA6C,OAATU,EAAgBA,EAAKmB,KAAO,YCkLjEoE,MA5Kf,WAEI,MAAwC1F,IAAM2D,SAAS,MAAvD,mBAAOgC,EAAP,KAAqBC,EAArB,KACA,EAAsC5F,IAAM2D,SAAS,IAArD,mBAAOpD,EAAP,KAAoBsF,EAApB,KACA,EAA0B7F,IAAM2D,SAAS,IAAzC,mBAAOjC,EAAP,KAAcoE,EAAd,KA2DA,SAAShE,EAAgB3B,GACrByF,EAAgBzF,GA1DpB4D,qBAAU,WACNM,EAAI0B,kBACCnB,MAAK,SAAClD,GACHoE,EAASpE,MAEZsE,OAAM,SAACC,GACJC,QAAQC,IAAIF,QAErB,IAEHlC,qBAAU,WACNM,EAAI+B,cACCxB,MAAK,SAAAC,GACFgB,EAAehB,MAElBmB,OAAM,SAACC,GACJC,QAAQC,IAAIF,QAErB,CAACJ,IA2CJ,MAAgD7F,IAAM2D,UAAS,GAA/D,mBAAO0C,EAAP,KAA8BC,EAA9B,KAKA,EAAkDtG,IAAM2D,UAAS,GAAjE,mBAAO4C,EAAP,KAA+BC,EAA/B,KAIA,EAA6CxG,IAAM2D,UAAS,GAA5D,mBAAO8C,EAAP,KAA4BC,EAA5B,KAIA,EAAiD1G,IAAM2D,UAAS,GAAhE,6BAIA,MAA2C3D,IAAM2D,UAAS,GAA1D,mBAAyBgD,GAAzB,WAEA,SAASC,IACLD,GAAe,GACfH,GAAgB,GAChBE,GAAc,GACdJ,GAAe,GACfV,EAAgB,MA0BpB,OACI,cAAC7F,EAAmB8G,SAApB,CAA6BzD,MAAO7C,EAApC,SAEQ,qBAAKd,UAAU,MAAMqH,WAAW,OAAhC,SACI,qBAAKrH,UAAU,OAAf,SACI,sBAAKA,UAAU,OAAf,UACI,cAAC,EAAD,IACA,cAAC,EAAD,CACIiC,MAAOA,EACPrB,WA3F5B,SAAwBF,IAEJA,EAAKW,MAAMC,MAAK,SAAAC,GAAC,OAAIA,EAAEL,MAAQJ,EAAYI,OAEhB0D,EAAI0C,mBAAmB5G,EAAKQ,KAA3D0D,EAAI2C,eAAe7G,EAAKQ,MAC/BiE,MAAK,SAACqC,GACHnB,GAAS,SAACoB,GAAD,OACLA,EAAMhF,KAAI,SAACiF,GAAD,OAAOA,EAAExG,MAAQR,EAAKQ,IAAMsG,EAAUE,WAGvDnB,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAiFI3F,aA7E5B,SAA0BH,GACtB,IAAMM,EAAQN,EAAKO,MAAMC,MAAQJ,EAAYI,IAC7C0D,EAAI+C,WAAWjH,EAAKQ,IAAKF,GACpBmE,MAAK,SAAAC,GACFiB,GAAS,SAACoB,GACNA,EAAMG,QAAO,SAAAC,GAAI,OAAIA,IAASnH,EAAKQ,IAAMkE,EAAMyC,WAGtDtB,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAqEInE,gBAAiBA,EACjBH,cAxD5B,WACI6E,GAAgB,IAwDQ5E,WArD5B,WACI8E,GAAc,IAqDU7E,aA/D5B,WACIyE,GAAe,MAgEK,cAAC,EAAD,IAEA,cAAC,EAAD,CACIhF,KAAM,eACNiB,MAAO,wFACPE,QAASmE,EACTpE,OAAQ6D,EACRnD,eAnC5B,YAAyC,IAAXnB,EAAU,EAAVA,OAC1BmE,QAAQC,IAAIpE,GACZsC,EAAIkD,aAAaxF,GACZ6C,MAAK,SAACC,GACHgB,EAAehB,GACf+B,OAEHZ,OAAM,SAACC,GACJC,QAAQC,IAAIF,SA6BA,cAAC,EAAD,CACI3E,KAAM,aACNiB,MAAO,4HACPyB,aAnD5B,YAA4C,IAAhB1C,EAAe,EAAfA,KAAMW,EAAS,EAATA,MAC9BoC,EAAImD,cAAclG,EAAMW,GACnB2C,MAAK,SAACC,GACHgB,EAAehB,GACf+B,OAEHZ,OAAM,SAACC,GACJC,QAAQC,IAAIF,OA6CIxD,QAASmE,EACTpE,OAAQ+D,IAGZ,cAAC,EAAD,CACIjF,KAAM,YACNiB,MAAO,gEACPE,QAASmE,EACTpE,OAAQiE,EACR7E,WAjI5B,YAA+C,IAAfN,EAAc,EAAdA,KAAMJ,EAAQ,EAARA,KAClCgF,QAAQC,IAAI7E,EAAMJ,GAClBmD,EAAIoD,QAAQnG,EAAMJ,GACb0D,MAAK,SAAAqC,GACFnB,EAAS,CAACmB,GAAF,mBAAcvF,KACtBkF,UA+HY,cAAC,EAAD,CACI9E,gBAAiBA,EACjBW,QAASmE,EACTzG,KAAMwF,cCnKvB+B,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBhD,MAAK,YAAkD,IAA/CiD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACI,cAAC,EAAD,MAEJC,SAASC,eAAe,SAM1BZ,K","file":"static/js/main.e0e40105.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.bbe2a6ea.svg\";","import logo from '../images/logo.svg'\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\"> \r\n                        <button href=\"#\" target=\"_blank\" className=\"header__logo-link link-animation\"><img src={logo} alt=\"Логотип\" className=\"header__logo\" /></button> \r\n                    </header> \r\n    );\r\n}\r\n\r\nexport default Header;","export default __webpack_public_path__ + \"static/media/avatar_edit.a086f758.svg\";","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n\r\n ","import React from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Card({ card, onCardClick, onCardLike, onCardDelete}) {\r\n\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    // Определяем, являемся ли мы владельцем текущей карточки\r\n    const isOwn = card.owner._id === currentUser._id;\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\r\n    const cardDeleteButtonClassName = (\r\n        `${isOwn ? 'element__delete' : 'element__delete_type_hidden'}`\r\n    );\r\n\r\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n\r\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\r\n    const cardLikeButtonClassName = (\r\n        `${!isLiked ? 'element__heart' : 'element__heart_type_active'}`\r\n        );\r\n\r\n    function handleClick() {\r\n        onCardClick(card);\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card)\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card)\r\n    }\r\n    return (\r\n        <div className=\"element\">\r\n            <img src={card.link} style={{ backgroundImage: `url(${card.link})` }} onClick={handleClick} className=\"element__image\" alt={card.name} />\r\n            <button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick} ></button>\r\n            <div className=\"element__group\">\r\n                <h2 className=\"element__title\">{card.name}</h2>\r\n                <div className=\"element__group_likes\">\r\n                    <button className={cardLikeButtonClassName} type=\"button\" onClick={handleLikeClick} />\r\n                    <h2 className=\"element__count_heart\">{card.likes.length}</h2>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Card;","import React from \"react\";\r\nimport avatar_edit from '../images/avatar_edit.svg'\r\nimport Card from './Card';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\n\r\n\r\nfunction Main({cards, onCardLike, onCardDelete, onEditProfile, onAddPlace, onEditAvatar, handleCardClick }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    \r\n    return (\r\n        <main> \r\n        <section className=\"profile\"> \r\n                <div className=\"profile__avatar-group\"> \r\n                    <img src={currentUser.avatar} style={{ backgroundImage: `url(${currentUser.avatar})` }} className=\"profile__avatar\" alt=\"Аватар\" onClick={onEditAvatar}/> \r\n                    <img src ={avatar_edit} className=\"profile__avatar-edit\" alt=\"Карандаш\" /> \r\n                </div> \r\n                <div className=\"profile__group\"> \r\n                    <div className=\"profile__info\"> \r\n                        <div className=\"profile__edit\"> \r\n                            <h1 className=\"profile__title\">{currentUser.name}</h1> \r\n                            <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button> \r\n                        </div> \r\n                        <p className=\"profile__subtitle\">{currentUser.about}</p> \r\n                    </div> \r\n                    <button className=\"profile__add-button\" type = \"button\" onClick={onAddPlace}></button> \r\n                </div> \r\n        </section> \r\n\r\n        <section className=\"elements\"> \r\n        {cards.map((card) => <Card key={card._id} onCardDelete={onCardDelete} onCardClick={handleCardClick} onCardLike={onCardLike} card={card} />)}\r\n        </section> \r\n</main>\r\n    )\r\n}\r\nexport default Main;","function Footer() {\r\n    return (\r\n        <footer className=\"footer\"> \r\n            <p className=\"footer__copyright\">&copy; 2020 Mesto Russia by <a href=\"https://vk.com/trufan\" target=\"_blank\" rel = \"noreferrer\" className=\"footer__social-link link-animation\">trufan</a></p> \r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;","function PopupWithForm({children, name, title, isOpen, onClose, onSubmit}) {\r\n    \r\nreturn (\r\n        <section className={`popup  ${isOpen && \"popup_active\"}   popup_type_${name}`}>\r\n            <div className=\"popup__container\"> \r\n                <button className=\"popup__close\" type=\"button\" onClick={onClose} />\r\n                <h2 className=\"popup__title\">{title}</h2> \r\n                <form className=\"popup__form\" name={`${name}`} noValidate onSubmit={onSubmit} >\r\n                    {children}\r\n                    <button className=\"popup__submit\"  type=\"submit\">Сохранить</button> \r\n                </form> \r\n            </div> \r\n        </section> \r\n)\r\n}\r\n\r\nexport default PopupWithForm;","import PopupWithForm from \"./PopupWithForm.js\";\r\nimport React from \"react\";\r\n\r\nfunction EditAvatarPopup(props) {\r\n    const avatarRef = React.useRef();\r\n\r\n    \r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateAvatar({\r\n            avatar: avatarRef.current.value\r\n        });\r\n    }\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title={props.title} >\r\n            <input ref={avatarRef} className=\"popup__input popup__input_type_link-avatar\" id=\"link-avatar-input\" pattern=\"https://.*\" type=\"url\" required placeholder=\"Ссылка на картинку\" name=\"link-avatar-input\" />\r\n            <span className=\"link-avatar-input-error\" />\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from \"react\";\r\n// import { useEffect } from \"react\";\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction EditProfilePopup(props) {\r\n    const [name, setName] = React.useState('')\r\n    const [description, setDescription] = React.useState('')\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser]);\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeAbout(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title={props.title}>\r\n            <input className=\"popup__input popup__input_type_name\" value={name} onChange={handleChangeName} id=\"name-input\" minLength=\"2\" maxLength=\"40\" required type=\"text\" name=\"name\" placeholder=\"Ваше имя\" />\r\n            <span className=\"name-input-error\"></span>\r\n            <input className=\"popup__input popup__input_type_activity\" value={description} onChange={handleChangeAbout} id=\"about\" minLength=\"2\" maxLength=\"200\" required type=\"text\" name=\"activity\" placeholder=\"О себе\" />\r\n            <span className=\"about-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\nexport default EditProfilePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm.js\";\r\n\r\nfunction AddPlacePopup(props) {\r\n    const [name, setName] = React.useState('')\r\n    const [link, setDescription] = React.useState('')\r\n\r\n    function handleChangeName(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleChangeLink(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        props.onAddPlace({\r\n            name: name,\r\n            link: link\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm onSubmit={handleSubmit} isOpen={props.isOpen} onClose={props.onClose} title={props.title}>\r\n            <input onChange={handleChangeName} className=\"popup__input popup__input_type_mesto-name\" id=\"name\" type=\"text\" minLength=\"2\" maxLength=\"30\" required name=\"name\" placeholder=\"Название\" />\r\n            <span className=\"name-error\"></span>\r\n            <input onChange={handleChangeLink} className=\"popup__input popup__input_type_link\" id=\"link\" pattern=\"https://.*\" type=\"url\" name=\"link\" required placeholder=\"Ссылка на картинку\" />\r\n            <span className=\"link-error\"></span>\r\n        </PopupWithForm>\r\n    )\r\n}\r\n\r\nexport default AddPlacePopup;","class Api {\r\n    constructor({baseUrl, headers}) {\r\n        this._url = baseUrl\r\n        this._headers = headers\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._url}/cards`, {\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    addCard(name, link) {\r\n        return fetch(`${this._url}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._url}/users/me`, {\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    updateProfile(name, about) {\r\n        return fetch(`${this._url}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        }) \r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    deleteCard(id) {\r\n        return fetch(`${this._url}/cards/${id}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    setLikeForCard(cardId) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n            method: 'PUT',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    removeLikeFromCard(cardId) {\r\n        return fetch(`${this._url}/cards/likes/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    updateAvatar(link) {\r\n        return fetch(`${this._url}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: link\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._resultStatus(res)\r\n        })\r\n    }\r\n\r\n    _resultStatus(res) {\r\n        if (res.ok) {\r\n            return res.json()\r\n        }\r\n        return Promise.reject(`Ошибка: ${res.status}`)\r\n    }\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-26',\r\n    headers: {\r\n        \"authorization\": 'f2f1eda8-cb60-4ee0-8ee5-825fccefe6c9',\r\n        'Content-Type': 'application/json'\r\n    }\r\n})\r\nexport default api;","function ImagePopup({ card, onClose }) {\r\n    return (\r\n        <section className={`popup popup_type_image-popup ${(card !== null) && 'popup_active'}`} id=\"image-popup\">\r\n            <div className=\"popup__container-image\">\r\n                <div className=\"popup__container popup__container_type_image\" >\r\n                    <button className=\"popup__close\" onClick={onClose} type=\"button\"></button>\r\n                    <img src={card !== null ? card.link : \"#\"} className=\"popup__image\" alt=\"Изображение\" />\r\n                </div>\r\n                <h2 className=\"popup__image-title\">{card !== null ? card.name : \"#\"}</h2>\r\n            </div>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default ImagePopup;","import \"../index.css\";\nimport Header from \"./Header.js\";\nimport Main from \"./Main.js\";\nimport Footer from \"./Footer.js\";\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\nimport EditProfilePopup from \"./EditProfilePopup.js\";\nimport AddPlacePopup from \"./AddPlacePopup .js\";\nimport { useEffect } from \"react\";\nimport api from \"../utils/Api\";\nimport React from \"react\";\nimport ImagePopup from \"./ImagePopup\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js'\n\n\nfunction App() {\n\n    const [selectedCard, setSelectedCard] = React.useState(null);\n    const [currentUser, setCurrentUser] = React.useState({});\n    const [cards, setCards] = React.useState([]);\n\n    useEffect(() => {\n        api.getInitialCards()\n            .then((cards) => {\n                setCards(cards);\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, []);\n\n    useEffect(() => {\n        api.getUserInfo()\n            .then(res => {\n                setCurrentUser(res)\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }, [setCurrentUser])\n\n    function handleAddPlaceSubmit({ name, link }) {\n        console.log(name, link)\n        api.addCard(name, link)\n            .then(newCard => {\n                setCards([newCard, ...cards]);\n                closeAllPopups()\n            })\n    }\n\n    function handleCardLike(card) {\n        // Снова проверяем, есть ли уже лайк на этой карточке\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\n\n        (!isLiked ? api.setLikeForCard(card._id) : api.removeLikeFromCard(card._id))\n            .then((newCard) => {\n                setCards((state) =>\n                    state.map((c) => c._id === card._id ? newCard : c)\n                )\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleCardDelete(card) {\n        const isOwn = card.owner._id === currentUser._id;\n        api.deleteCard(card._id, isOwn)\n            .then(res => {\n                setCards((state) => {\n                    state.filter(item => item === card._id ? res : item)\n                })\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleCardClick(card) {\n        setSelectedCard(card);\n    }\n\n    const [isEditAvatarPopupOpen, setStateAvatar] = React.useState(false);\n    function handleEditAvatarClick() {\n        setStateAvatar(true);\n    }\n\n    const [isEditProfilePopupOpen, setStateProfile] = React.useState(false);\n    function handleEditProfileClick() {\n        setStateProfile(true);\n    }\n    const [isAddPlacePopupOpen, setStatePlace] = React.useState(false);\n    function handleAddPlaceClick() {\n        setStatePlace(true);\n    }\n    const [isAddConfirmPopupOpen, setStateConfirm] = React.useState(false);\n    function handleConfirmPlaceClick() {\n        setStateConfirm(true);\n    }\n    const [isAllPopupsClose, setClosePopups] = React.useState(false);\n\n    function closeAllPopups() {\n        setClosePopups(true);\n        setStateProfile(false);\n        setStatePlace(false);\n        setStateAvatar(false);\n        setSelectedCard(null);\n    }\n\n    function handleUpdateUser({ name, about }) {\n        api.updateProfile(name, about)\n            .then((res) => {\n                setCurrentUser(res)\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    function handleUpdateAvatar({ avatar }) {\n        console.log(avatar)\n        api.updateAvatar(avatar)\n            .then((res) => {\n                setCurrentUser(res)\n                closeAllPopups()\n            })\n            .catch((err) => {\n                console.log(err);\n            });\n    }\n\n    return (\n        <CurrentUserContext.Provider value={currentUser}>\n            {\n                <div className=\"App\" background=\"#000\">\n                    <div className=\"body\">\n                        <div className=\"page\">\n                            <Header />\n                            <Main\n                                cards={cards}\n                                onCardLike={handleCardLike}\n                                onCardDelete={handleCardDelete}\n                                handleCardClick={handleCardClick}\n                                onEditProfile={handleEditProfileClick}\n                                onAddPlace={handleAddPlaceClick}\n                                onEditAvatar={handleEditAvatarClick}\n                            ></Main>\n                            <Footer />\n                            \n                            <EditAvatarPopup\n                                name={\"update-popup\"}\n                                title={\"Обновить аватар\"}\n                                onClose={closeAllPopups}\n                                isOpen={isEditAvatarPopupOpen}\n                                onUpdateAvatar={handleUpdateAvatar} />\n                            \n                            <EditProfilePopup\n                                name={\"edit-popup\"}\n                                title={\"Редактировать профиль\"}\n                                onUpdateUser={handleUpdateUser}\n                                onClose={closeAllPopups}\n                                isOpen={isEditProfilePopupOpen}\n                            />\n                            \n                            <AddPlacePopup\n                                name={\"add-popup\"}\n                                title={\"Новое место\"}\n                                onClose={closeAllPopups}\n                                isOpen={isAddPlacePopupOpen} \n                                onAddPlace={handleAddPlaceSubmit} />\n                            \n\n                            <ImagePopup\n                                handleCardClick={handleCardClick}\n                                onClose={closeAllPopups}\n                                card={selectedCard}\n                            />\n\n                        </div>\n                    </div>\n                </div>\n            }\n        </CurrentUserContext.Provider>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}